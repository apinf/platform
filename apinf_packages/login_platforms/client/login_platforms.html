<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="loginPlatforms">
  <div class="container padded-container">
    <div class="row">
      {{> settingsMenu }}

      {{# autoForm
        collection=loginPlatformsCollection
        doc=editDoc
        id="loginPlatforms"
        type=formType }}
      <div class="col-md-6 login-platforms-fields">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              {{_ "settings_fiware" }}
            </h3>
          </div>
          <div class="panel-body">
            {{> afQuickField name='fiwareConfiguration.clientId' id="fiware-id" }}
            {{> afQuickField name='fiwareConfiguration.secret' id="fiware-secret" }}
            {{> afQuickField name='fiwareConfiguration.rootURL' id="fiware-rootURL" }}
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              {{_ "settings_github" }}
            </h3>
          </div>
          <div class="panel-body">
            {{> afQuickField name='githubConfiguration.clientId' id="github-id" }}
            {{> afQuickField name='githubConfiguration.secret' id="github-secret" }}
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              {{_ "settings_oidc" }}
            </h3>
          </div>
          <div class="panel-body">
            {{> afQuickField name='oidcConfiguration.clientId' id="oidc-id" }}
            {{> afQuickField name='oidcConfiguration.secret' id="oidc-secret" }}
            {{> afQuickField name='oidcConfiguration.serverUrl' id="oidc-server" }}
            {{> afQuickField name='oidcConfiguration.authorizationEndpoint' id="oidc-authEp" }}
            {{> afQuickField name='oidcConfiguration.tokenEndpoint' id="oidc-tokenEp" }}
            {{> afQuickField name='oidcConfiguration.userinfoEndpoint' id="oidc-uInfoEp" }}
            {{> afQuickField name='oidcConfiguration.idTokenWhitelistFields' id="oidc-whitelist" }}
          </div>
        </div>
        <div id="form-buttons">
          <button
            type="submit"
            class="btn btn-lg btn-success"
            id="save-settings">
            {{_ "settings_save" }}
          </button>
        </div>
      </div>
      {{/ autoForm }}
    </div>
  </div>
</template>
