<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="dashboardDataTable">
  <h4 class="dashboard-block-title">
    {{_ "dashboardDataTable_title" }}
  </h4>
  <a
     tabindex="0"
     class="dashboard-block-help"
     role="button"
     data-toggle="popover"
     data-placement="left"
     data-trigger="focus"
     data-content="{{_ 'dashboardDataTable_help_text' }}">
    <i class="fa fa-question-circle" aria-hidden="true"></i>
  </a>
  <form class="form-inline" id="change-row-count">
    <select class="form-control" id="row-count">
      <option value="10" selected>
        10
      </option>
      <option value="25">
        25
      </option>
      <option value="50">
        50
      </option>
      <option value="100">
        100
      </option>
    </select>
    {{_ 'dashboardDataTable_recordsPerPage' }}
  </form>
  <table class="dataTable table table-bordered table-hover">
    <thead>
      <tr>
        <th>
          {{_ "dashboardDataTable_timeStamp" }}
        </th>
        <th>
          {{_ "dashboardDataTable_requestCountry" }}
        </th>
        <th>
          {{_ "dashboardDataTable_requestPath" }}
        </th>
        <th>
          {{_ "dashboardDataTable_requestIP" }}
        </th>
        <th>
          {{_ "dashboardDataTable_responseTime" }}
        </th>
        <th>
          {{_ "dashboardDataTable_responseStatus" }}
        </th>
      </tr>
    </thead>
    <tbody>
      {{# each row in tableData }}
        <tr>
          <td class="row">
            {{ row.time }}
          </td>
          <td>
            {{ row.country }}
          </td>
          <td>
            {{ row.requestPath }}
          </td>
          <td>
            {{ row.requestIp }}
          </td>
          <td>
            {{ row.responseTime }}
          </td>
          <td>
            {{ row.responseStatus }}
          </td>
        </tr>
      {{/ each }}
    </tbody>
  </table>
  <div>
    <div class="page-numbers pull-left">
      {{_ "dashboardDataTable_pageCount" }}
      &nbsp;
      <strong>
        {{ currentPageNumber }}
      </strong>
      &nbsp;/&nbsp;
      <strong>
        {{ totalPageNumber }}
      </strong>
    </div>
    <div class="btn-group pull-right">
      {{# if showPrevButton }}
        <button class="btn btn-sm btn-default" id="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
          {{_ "dashboardDataTable_prevPage" }}
        </button>
      {{ else }}
        <button class="btn btn-sm btn-default disabled">
          <span class="glyphicon glyphicon-chevron-left"></span>
          {{_ "dashboardDataTable_prevPage" }}
        </button>
      {{/ if }}
      {{# if showNextButton }}
        <button class="btn btn-sm btn-default" id="next">
          {{_ "dashboardDataTable_nextPage" }}
          <span class="glyphicon glyphicon-chevron-right"></span>
        </button>
      {{ else }}
        <button class="btn btn-sm btn-default disabled">
          {{_ "dashboardDataTable_nextPage" }}
          <span class="glyphicon glyphicon-chevron-right"></span>
        </button>
      {{/ if }}
    </div>
  </div>
</template>
