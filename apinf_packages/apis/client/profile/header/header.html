<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="viewApiPageHeader">
  <div class="container-fluid secondary-menu-block" style="padding-left: 45px; padding-right: 45px;">
    <div class="row">
      <div class="col-md-2">
      <span style="float: left; padding-top:12px">
      {{> viewApiLogo }}
      </span>
      <h1 class="special-headings" style="font-size: 1.2em;color: #37474F;display: inline;float: left;margin-top: 29px;left: 15px;position: relative;">
        {{ api.name }}
      </h1>
        {{# if api.organization }}
          <a href="{{ pathFor 'organizationProfile' orgSlug=api.organization.slug }}" style="float: left;position: absolute;left: 65px;padding-top: 9px;color: #555;">
            {{ api.organization.name }}
          </a>
        {{ else }}
          <span style="float: left;position: absolute;left: 65px;padding-top: 8px;color: #555;">
            {{ api.getApiManagersByName }}
          </span>
        {{/ if }}
      </div>

    <div class="col-md-8 secondary-menu-block-inner" style="text-align:center;">
      <ul class="nav nav-tabs">
        {{# if currentUser }}
          <li id ="api-details-tab" class="active">
            <a href="#api-details" data-toggle="tab">
              {{_ "viewApiNavigationMenu_details" }}
            </a>
          </li>
        {{/ if }}

        {{# if currentUser }}
          {{# if api.currentUserCanManage }}
            {{# if proxyBackend }}
              <li>
                <a href="{{ pathFor 'apiAnalyticPage' apiSlug=api.slug }}">
                  {{_ "apiViewAnalytics_button_viewAnalytics" }}
                </a>
              </li>
            {{/ if }}
          {{/ if }}
        {{/ if }}

        {{# if currentUser }}
          {{# if userShouldSeeApiDocsTab }}
            <!-- API Console -->
            <li id="api-documentation-tab">
              <a href="#api-documentation" data-toggle="tab">
                {{_ "viewApiNavigationMenu_documentation" }}
              </a>
            </li>
          {{/ if }}
        {{/ if }}

        {{# if api.currentUserCanManage }}
          <!-- Settings -->
          <li id="api-settings-tab">
            <a href="#api-settings" data-toggle="tab">
              {{_ "viewApiNavigationMenu_settings" }}
            </a>
          </li>

          {{# if proxyIsConfigured }}
            <!-- Proxy -->
            <li id="api-proxy-tab">
              <a href="#api-proxy" data-toggle="tab">
                {{_ "viewApiNavigationMenu_proxy" }}
              </a>
            </li>
          {{/ if }}
        {{/ if }}
      </ul>
    </div>
    <div class="col-md-2" style="text-align:right;">
      {{# if currentUser }}
        {{# if proxyBackend }}
            <span class="pull-right" style="margin-top:0.9em;">
              {{> apiKey api=api proxyBackend=proxyBackend }}
            </span>
        {{/ if }}
      {{/ if }}
    </div>
  </div>
</div>
</template>
