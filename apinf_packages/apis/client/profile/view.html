<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="viewApi">
  {{# if Template.subscriptionsReady }}
    {{> viewApiPageHeader
      api=api
      proxyIsConfigured=proxyIsConfigured
      proxyIsEmq=proxyIsEmq
      proxyBackend=proxyBackend }}
    <div class="container-fluid">
      <div class="tab-content">
        <div id="api-details" class="container block-wrapper tab-pane fade in active">
          {{> apiDetails api=api proxyBackend=proxyBackend }}
        </div> <!-- /api-backend-details -->

        <div id="api-auth" class="container block-wrapper tab-pane fade">
          {{> apiAuth api=api proxyBackend=proxyBackend }}
        </div> <!-- /api-backend-details -->

        <div id="api-documentation" class="tab-pane fade container block-wrapper">
          {{> apiDocumentation api=api apiDoc=apiDoc developmentFeatures=developmentFeatures }}
        </div> <!-- /api-documentation -->

        {{# if currentUser }}
          {{# if api.currentUserCanManage }}

            {{# if proxyIsConfigured }}
              <div id="api-proxy" class="container block-wrapper tab-pane fade">
                {{> apiProxy api=api proxyBackend=proxyBackend }}
              </div> <!-- /api-proxy -->
            {{/ if }}

            <div id="api-settings" class="container block-wrapper tab-pane fade">
              {{> apiSettings api=api }}
            </div>
          {{/ if }}
        {{/ if }}
      </div>
    </div>
  {{ else }}
    {{> spinner }}
  {{/ if }}
</template>
