<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="addApi">
  {{# if Template.subscriptionsReady }}
    <div class="container">
      
      <!-- Manual Add API -->
      <section>
        <h2 class="second-title">
          {{_ 'addApi_enterApiDetails' }}
        </h2>
        <button type="click" class="btn btn-primary" id="openModal">
          Upload Swagger File
        </button>
        {{# autoForm collection=ApisCollection id="addApiForm" type="insert" }}
          <!--invisible auto-value field-->
          {{> afQuickField name='latestMonitoringStatusCode' value="-1" type="hidden"}}
          <fieldset>
            {{> afQuickField name='name' id="api-name" }}
            {{> afQuickField name='description' rows=2 id="api-description" }}
            {{> afQuickField name='url' id="api-url" }}
            {{> afQuickField name='lifecycleStatus' id="api-lifecyclestatus" }}
          </fieldset>
          <button type="submit" class="btn btn-primary" id="submitapi-button">
            {{_ 'addApi_button_text' }}
          </button>
        {{/ autoForm }}
      </section>
      <!-- separator -->
      <div class="line-and-text">
        <span>
          {{_ 'addApi_separateLineTitle_or' }}
        </span>
      </div>
      <!-- Import API -->
      <section>
        <h2 class="second-title">
          {{_ "addApi_sectionTitle_importApiConfiguration" }}
        </h2>
        {{> importApiConfiguration}}
      </section>

    </div>
  {{ else }}
    {{> spinner }}
  {{/ if }}
</template>
