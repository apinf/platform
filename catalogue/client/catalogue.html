<template name="catalogue">
  <div class="box box-primary">
    <div class="box-header with-border">
      <h3 class="box-title">{{_ "catalogue_Title"}}</h3>
      <i class="pull-right">Total count: {{ apiBackendsCount }}</i>
    </div>
    <div class="box-body">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <tbody>
            {{#each api in apiBackends }}
            <tr>
              <td class="col-sm-3" style="vertical-align:middle">
                <p>
                  <a href="/api/{{api._id}}">
                    {{ api.name }}
                  </a>
                  <br>
                  <i>Added by {{ api.getApiManagersByName }}</i>
                  <br>
                  <i>Updated {{ api.relativeUpdatedAt }}</i>
                </p>
              </td>
              <td class="col-sm-3 text-center" style="vertical-align:middle">
                <i class="fa fa-lg fa-bookmark api-card-bookmark"></i>&nbsp;{{ api.getBookmarkCount }}&nbsp;
                {{#if api.getAverageRating }}
                  <i class="fa fa-lg fa-star-half-o">&nbsp;{{ api.getAverageRating }}</i>&nbsp;
                {{ else }}
                  <i class="fa fa-lg fa-star-half-o">&nbsp;{{_ "catalogue_notRated" }}</i>&nbsp;
                {{/if}}
              </td>
              <td class="col-sm-3" style="vertical-align:middle">
                <span class="api-card-bookmark" title="Bookmark API">
                    {{> favourite apiBackend=api }}
                </span>&nbsp;&nbsp;
                {{> apiBackendRating api }}
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>
