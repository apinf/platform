<template name="organizationCatalog">
  <div class="container">
    <h1 class="page-header">
      {{_ "organizationCatalog_Title" }}

      {{# if isInRole 'admin' }}
        <a type="button"
           class="btn btn-default pull-right"
           href={{ pathFor 'addOrganization' }} >
          <i class="fa fa-plus" aria-hidden="true"></i>
          {{_ "organizationCatalog_buttonText_addOrganization" }}
        </a>
      {{/ if }}
    </h1>
    <nav id="organization-catalogue-toolbar" class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button
              type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              aria-expanded="false">
            <span class="sr-only">
              {{_ "organizationCatalog_toolbar_toggleCollapse" }}
            </span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse sort-filter-toolbar">
          <div class="nav navbar-nav">
            <p class="navbar-text sort-filter-toolbar-title">
              {{_ "organizationCatalog_toolbar_sortBy_title" }}
            </p>
            <div class="form-group sort-options-form">
              <form class="form navbar-form navbar-nav">
                <select name="sort-menu" class="form-control sort-options-select">
                  <option value="name">
                    {{_ "organizationCatalog_toolbar_sortMenuOptions_name" }}
                  </option>
                  <option value="createdAt">
                    {{_ "organizationCatalog_toolbar_sortMenuOptions_dateCreated" }}
                  </option>
                </select>
              </form>
            </div>
          </div>
          <div class="nav navbar-nav">
            <div class="btn-group navbar-btn"
                 role="group"
                 aria-label="{{_ 'organizationCatalog_buttonText_sortDirect' }}"
                 data-toggle="buttons">
              <label
                  class="btn btn-default toolbar-tooltip active"
                  title="{{_ 'organizationCatalog_toolbar_sortMenuOptions_sortAscending' }}">
                <input type="radio" name="sort-direction" id="organization-sort-ascending" value="1">
                <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
              </label>
              <label
                  class="btn btn-default toolbar-tooltip"
                  title="{{_ 'organizationCatalog_toolbar_sortMenuOptions_sortDescending' }}">
                <input type="radio" name="sort-direction" id="organization-sort-descending" value="-1">
                <i class="fa fa-sort-amount-desc" aria-hidden="true"></i>
              </label>
            </div>
          </div>
          {{# if currentUser }}
            <div class="nav navbar-nav">
              <div class="btn-group navbar-btn filter-options-menu"
                   role="group"
                   aria-label="{{_ 'organizationCatalog_buttonText_filterOptions' }}"
                   data-toggle="buttons" >
                <label class="btn btn-default active">
                  <input type="radio" name="filter-options" value="all">
                  {{_ "organizationCatalog_toolbar_filterOptions_showAll" }}
                </label>
                <label class="btn btn-default">
                  <input type="radio" name="filter-options" value="my-organizations">
                  {{_ "organizationCatalog_toolbar_filterOptions_myOrganizations" }}
                </label>
                <label class="btn btn-default">
                  <input type="radio" name="filter-options" value="my-bookmarks">
                  {{_ "organizationCatalog_toolbar_filterOptions_myBookmarks" }}
                </label>
              </div>
            </div>
          {{/ if }}
          <div class="nav navbar-nav navbar-right">
            <div class="btn-group navbar-btn"
                 role="group"
                 aria-label="{{_ 'organizationCatalog_buttonText_viewMode' }}"
                 data-toggle="buttons">
              <label
                  class="btn btn-default toolbar-tooltip active"
                  title="{{_ 'organizationCatalog_toolbar_viewMode_grid' }}">
                <input type="radio" name="view-mode" value="grid">
                <i class="fa fa-th-large" aria-hidden="true"></i>
              </label>
              <label
                  class="btn btn-default toolbar-tooltip"
                  title="{{_ 'organizationCatalog_toolbar_viewMode_table' }}">
                <input type="radio" name="view-mode" value="table">
                <i class="fa fa-table" aria-hidden="true"></i>
              </label>
            </div>
          </div>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <!-- if viewMode is grid, show grid -->
    {{# if gridViewMode }}
      {{# if Template.subscriptionsReady }}
        {{> organizationCatalogGrid organizations=organizations }}
      {{ else }}
        {{> spinner }}
      {{/ if }}
    {{/ if }}

    <!-- if viewMode is table, show table -->
    {{# if tableViewMode }}
      {{# if Template.subscriptionsReady }}
        {{> organizationCatalogTable organizations=organizations }}
      {{ else }}
        {{> spinner }}
      {{/ if }}
    {{/ if }}

    {{> defaultBootstrapPaginator pagination=templatePagination limit=10 containerClass="text-center" }}

  </div>
</template>
