<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="apiRelatedMedia">
  <!-- Show media area in case either -->
  <!-- there are posts -->
  {{# if posts }}
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 id="oembedded-title" class="panel-title clearfix">
        {{#if api.currentUserCanEdit }}
            <button
              type="button"
              class="btn btn-xs btn-success pull-right"
              id="add-media"
              title='{{_ "apiMedia_apiRelatedMedia_Add_Button_Help" }}'>
                {{_ "apiMedia_apiRelatedMedia_Add_Button" }}
            </button>
        {{/if}}
        <!-- Related Media -->
        {{_ "apiMedia_apiRelatedMedia_Title" }}
      </h2>
    </div>
    <div class="panel-body">
      <div class="container">
        <div class="row">
            {{# each post in posts }}
              <div class="col-grid-post col-xl-2 col-md-3 col-sm-6 col-xs-12">
                {{> postItem post=post api=api}}
              </div>
            {{/ each }}
        </div>

        <div class="centered">
          {{> defaultBootstrapPaginator
              pagination=templatePagination
              limit=4
              containerClass="text-center"
              onClick=clickEvent}}
        </div>
      </div>
    </div>
  </div>
  {{ else }}
    <!-- or user has rights -->
    {{# if api.currentUserCanEdit }}
      <div class="well">
        <button
          type="button"
          class="btn btn-sm btn-success pull-right"
          id="add-media"
          title='{{_ "apiMedia_apiRelatedMedia_Add_Button_Help" }}'>
            {{_ "apiMedia_apiRelatedMedia_Add_Button" }}
        </button>
        <p>{{_ "apiMedia_apiRelatedMedia_Well_Message" }}</p>
      </div>
    {{ /if }}
  {{ /if }}
</template>
