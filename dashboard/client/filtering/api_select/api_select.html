<template name="apiSelectPicker">
  <select
    id="frontend-prefix"
    title="{{_ 'apiSelectPicker_selectAPI' }}"
    data-width="fit"
    data-selected-text-format="count > 1"
    data-live-search="true"
    data-size="10"
    data-actions-box="true" >
    <!-- Admininstrator -->
    {{# if isInRole 'admin' }}
      <optgroup label="{{_ 'apiSelectPicker_administratorApis' }}" >
        <option value="{{ apiUmbrellaOption.prefix }}" >
          {{ apiUmbrellaOption.name }}
        </option>
      </optgroup>
    {{/ if }}
    <!-- User APIs -->
    {{# if userApis }}
      <optgroup label="{{_ 'apiSelectPicker_myApis' }}" >
        {{# each api in userApis }}
          <option value="{{ api.url_matches.[0].frontend_prefix }}" >
            {{> viewApiStatus api=api width="0.5" }}
            &nbsp;
            {{ api.name }}
          </option>
        {{/ each }}
      </optgroup>
    {{/ if }}

    <!-- other APIs -->
    {{# if otherApis }}
      <optgroup label="{{_ 'apiSelectPicker_otherApis' }}" >
        {{# each api in otherApis }}
          <option value="{{ api.url_matches.[0].frontend_prefix }}" >
            {{> viewApiStatus api=api width="0.5" }}
            &nbsp;
            {{ api.name }}
          </option>
        {{/ each }}
      </optgroup>
    {{/ if }}
  </select>
</template>
