<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="organizationApisForm">
  {{# autoForm
    collection=organizationApisCollection
    id="organizationApisForm"
    type=formType
    doc=organizationApi
  }}

    <!-- Hide Organization ID field and autovalue, if Organization is provided -->
    {{# if organization }}
      {{> afQuickField name="organizationId" value=organization._id type="hidden" }}
    {{ else }}
      {{> afQuickField name="organizationId" }}
    {{/ if }}

    <!-- Hide API ID field and autovalue, if API is provided -->
    {{# if api }}
      {{> afQuickField name="apiId" value=api._id type="hidden" }}
    {{ else }}
      {{> afQuickField name="apiId" options=unlinkedApis firstOption=false }}
    {{/ if }}

    <button type="submit" class="btn btn-success" id="organization-apis-connect">
      {{_ "organizationApis_connectButton" }}
    </button>
  {{/ autoForm }}
</template>
